<div class="main">
  <div class="container">
    <h2 class="main_h2">イベント管理</h2>

    <% @events.each do |event| %>
      <div class="row event_list">
        <%= render 'events/shared/EventList', event: event %>
        <div class="offset-lg-3 col-1 col-lg-1 btn_center">
          <%= link_to edit_event_path(event.id) do %>
            <button class="btn btn-modify" type="submit">編集する</button>
          <% end %>

          <!-- 切り替えボタンの設定 -->
          <button type="button" class="btn btn-modify mt-3" data-toggle="modal" data-target="#modal-<%= event.id %>">
            削除する
          </button>

          <!-- モーダルの設定 -->
          <div class="modal fade" id="modal-<%= event.id %>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">
                    <%= event.title %>
                  </h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="閉じる">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <p>このイベントを削除しますか？</p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">閉じる</button>
                  <%= link_to event_path(event.id), {method: "delete"} do%>
                    <button type="button" class="btn">削除する</button>
                  <% end %>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    <% end %>
  </div>
</div>
